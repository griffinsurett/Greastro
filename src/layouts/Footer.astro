---
// src/layouts/Footer.astro
/**
 * Footer Component
 */

import { siteData } from "@/content/siteData";
import ContentRenderer from "@/components/ContentRenderer/ContentRenderer.astro";
import ConsentLayout from "./ConsentLayout.astro";
import { query, sortBy } from "@/utils/query";
import { filterByMenu } from '@/utils/menuQueries';
---

<footer class="bg-gray-900 text-white mt-auto">
  <div class="container mx-auto px-4 py-8">
    <div class="flex flex-col md:flex-row justify-between items-center gap-4">
      {/* Copyright notice */}
      <p class="text-gray-400 text-sm">
        &copy; {new Date().getFullYear()}
        {siteData.legalName}. All rights reserved.
      </p>

      {/* Social media icons */}
      <ContentRenderer
        query={query("social-media")}
        variant="SocialMediaVariant"
        size="md"
        alignment="left"
        className="text-white"
      />

      {/* Legal and privacy links */}
      <div class="flex flex-wrap items-center gap-4 text-sm">
        
          href="/privacy-policy"
          class="text-gray-400 hover:text-white transition-colors"
        >
          Privacy Policy
        </a>
        
          href="/cookie-policy"
          class="text-gray-400 hover:text-white transition-colors"
        >
          Cookie Policy
        </a>

        <ConsentLayout />
      </div>
    </div>
    
    {/* Optional footer menu */}
    <div class="mt-6 pt-6 border-t border-gray-800">
      <ContentRenderer
        query={query('menu-items')
          .where(filterByMenu('footer-menu'))
          .orderBy(sortBy('order', 'asc'))
        }
        variant="MenuVariant"
        mode="desktop-only"
      />
    </div>
  </div>
</footer>