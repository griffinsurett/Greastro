---
// src/layouts/docs/DocsTheme.astro
/**
 * Documentation Theme Setup
 * Handles docs-specific theme configuration
 */

import '@/styles/docs.css';
---

<!-- Favicons -->
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />

<!-- Color scheme support -->
<meta name="color-scheme" content="dark light" />

<!-- Theme color -->
<meta name="theme-color" content="#ffffff" />

<!-- Apple specific -->
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<!-- Theme detection script (prevents FOUC) -->
<script is:inline>
  (function() {
    try {
      const savedTheme = localStorage.getItem('theme');
      const theme = savedTheme || 
        (window.matchMedia?.('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      
      const root = document.documentElement;
      root.setAttribute('data-theme', theme);
      root.style.colorScheme = theme;
      
      const themeColorMap = {
        'light': '#ffffff',
        'dark': '#0f172a'
      };
      
      const themeColor = themeColorMap[theme] || themeColorMap.light;
      let meta = document.querySelector('meta[name="theme-color"]');
      if (meta) {
        meta.setAttribute('content', themeColor);
      }
    } catch (e) {
      document.documentElement.setAttribute('data-theme', 'light');
    }
  })();
</script>