---
// src/pages/[slug].astro
/**
 * Root-Level Item Pages
 * 
 * Generates pages for items with rootPath: true at the root level.
 * E.g., /about instead of /pages/about
 */

import {
  generateItemPaths,
  prepareItemPageData,
  rootLevelFilter,
  buildRootLevelParams,
} from "@/utils/pageGeneration/itemPageHelpers";

export async function getStaticPaths() {
  return generateItemPaths(rootLevelFilter, buildRootLevelParams);
}

const {
  LayoutComponent,
  Content,
  entry,
  collectionName,
  collectionMeta,
  seoProps,
} = await prepareItemPageData(Astro.props);
---
<LayoutComponent
  entry={entry}
  collection={collectionName}
  collectionMeta={collectionMeta}
  seoProps={seoProps}
  Content={Content}
  {...collectionMeta}  
/>